name: Markdown quality check

on:
  pull_request:
    branches:
      - development
    paths:
      - '_posts/**/*.md' # Trigger only when Markdown files in _posts are changed

jobs:
  markdown-linting:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: _posts
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      
      - name: Markdown Linting
        uses: avto-dev/markdown-lint@v1
        with:
          config: '.markdownlint.json'

  markdown-link-check:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: _posts
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      
      - name: Markdown Link Check
        uses: gaurav-nelson/github-action-markdown-link-check@v1

  spell-check:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: _posts
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      
      - name: Spell Check
        uses: rojopolis/spellcheck-github-actions@0.16.0
        with:
          markdown_files_only: true
          ignore_file: '.spellignore'

